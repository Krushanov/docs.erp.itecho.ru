# Склады

## Получение списка складов

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/tables/warehouses`  
**Авторизация:** Bearer token

### Параметры запроса

- `owned_by_us` - иерархия (принадлежность) склада: свой (true), чужой (false)  
- `storage_unit_id` - ID единицы измерения из [справочника](Справочники.md#получение-списка-единиц-измерения)  
- `city_id` - ID города из [справочника](Справочники.md#получение-списка-городов)  
- `page` - текущая страница (для пагинации)
- `per_page` - кол-во элементов на странице
- `query` - поисковая строка
- `date_from` - "дата с..." (от даты добавления в систему)
- `date_to` - "дата по..." (от даты добавления в систему)

### Пример запроса  

`https://beta.back.erp.itecho.ru/api/tables/warehouses?query=коледино&owned_by_us=0&storage_unit_id[]=1&city_id[]=1`

### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"columns": [
		{
			"id": 81,
			"table_id": 11,
			"order": 0,
			"key": "id",
			"has_icon": 0,
			"text": "№"
		},
		{
			"id": 82,
			"table_id": 11,
			"order": 1,
			"key": "name",
			"has_icon": 1,
			"text": "Название"
		},
		{
			"id": 83,
			"table_id": 11,
			"order": 2,
			"key": "owner",
			"has_icon": 0,
			"text": "Принадлежность"
		},
		{
			"id": 84,
			"table_id": 11,
			"order": 3,
			"key": "city",
			"has_icon": 0,
			"text": "Город"
		},
		{
			"id": 85,
			"table_id": 11,
			"order": 4,
			"key": "creator",
			"has_icon": 1,
			"text": "Добавил"
		},
		{
			"id": 86,
			"table_id": 11,
			"order": 5,
			"key": "storage_capacity",
			"has_icon": 0,
			"text": "Емкость"
		}
	],
	"warehouses": [
		{
			"id": 3,
			"name": {
				"icon": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"value": "Коледино WB"
			},
			"owner": "Чужой",
			"city": "Москва",
			"creator": {
				"icon": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"value": "Полищук Артём"
			},
			"storage_capacity": 5000000,
			"storage_unit": "Литр"
		}
	],
	"pagination": {
		"total": 1,
		"per_page": 10,
		"current_page": 1,
		"last_page": 1,
		"from": 1,
		"to": 1
	}
}
```

#### Описание полей ответа

- `id` - первичный ключ (номер склада)  
- `name` - название склада  
- `owner` - принадлежность склада (свой/чужой)  
- `city` - город
- `creator` - добавил в систему
- `storage_capacity` - объем склада
- `storage_unit` - единицы измерения

---

## Получение выбранного склада

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}`  
**Авторизация:** Bearer token

### Параметры запроса

Параметры не передаются.

### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1`

### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"warehouse": {
		"id": 1,
		"photo": null,
		"code": 1,
		"owned_by_us": false,
		"address": "Троицкая улица, 20, деревня Коледино, городской округ Подольск, Московская область",
		"storage_capacity": 5000000,
		"storage_unit": {
			"id": 1,
			"name": "Литр",
			"abbreviation": "л"
		},
		"city": {
			"id": 1,
			"name": "Москва",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"created_at": "2024-04-19T09:18:41.000000Z"
		},
		"counterparty": {
			"id": 54,
			"type": {
				"id": 2,
				"name": "Поставщик",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-03-27T07:00:46.000000Z"
			},
			"manager": {
				"id": 1,
				"first_name": "Артём",
				"last_name": "Полищук",
				"middle_name": "Николаевич",
				"name": "Полищук Артём"
			},
			"avatar": null,
			"name": "ООО \"НЕТФЛИКС\"",
			"registered_at": "2008-10-20",
			"inn": "7743277284",
			"kpp": null,
			"head": "Чуйков Андрей Николаевич",
			"legal_address": "г Москва, ул Адмирала Макарова, д 8 стр 1, помещ V ком 15, 15",
			"phone_1": "71231412412",
			"phone_2": "74416763277",
			"email": "asdaslow@gmail.com",
			"created_at": "2024-06-11T15:00:33.000000Z",
			"updated_at": "2024-06-11T19:33:38.000000Z"
		}
	}
}
```

#### Описание полей ответа

- `id` - первичный ключ (номер склада)  
- `photo` - объект с информацией о фотографии склада. Для получения информации о возвращаемых полях [см. запрос](Файлы.md#получение-выбранного-файла)  
- `code` - уникальный код склада	
- `owned_by_us` - принадлежность склада (свой/чужой)  
- `address` - адрес склада
- `city` - объект с информацией о городе из [справочника](Справочники.md#получение-выбранного-города)
- `creator` - объект с информацией о создателе записи. Для получения информации о возвращаемых полях [см. запрос](Пользователи.md#получение-выбранного-пользователя)  
- `storage_capacity` - объем склада
- `storage_unit` - объект с информацией о единицах измерения. Для получения информации о возвращаемых полях [см. запрос](Справочники.md#получение-выбранной-единицы-измерения)  

---

## Добавление склада

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses`  
**Авторизация:** Bearer token

### Параметры запроса

- `photo_id` - ID фотографии склада из [справочника](Файлы.md#добавление-файла)  
- `name` - название склада   
- `code` - уникальный код склада	
- `owned_by_us` - принадлежность склада (свой/чужой)  
- `address` - адрес склада, полученный из [запроса](Вспомогательные запросы.md#поиск-адресов)
- `city_id` - ID города из [справочника](Справочники.md#получение-списка-городов)
- `storage_capacity` - объем склада (целочисленное значение)
- `storage_unit_id` - ID единиц измерения из [справочника](Справочники.md#получение-списка-единиц-измерения)
- `counterparty_id` - ID поставщика из [списка контрагентов](Контрагенты.md#получение-списка-контрагентов)

### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses`
```json
{
	"photo_id": 1,
	"code": 1,
	"name": "Коледино WB",
	"owned_by_us": false,
	"address": "Троицкая улица, 20, деревня Коледино, городской округ Подольск, Московская область",
	"storage_capacity": 5000000,
	"storage_unit_id": 1,
	"city_id": 1,
    "counterparty_id": 54
}
```

### Ответ

При успешном действии возвращается HTTP код `201`.
```json
{
	"warehouse": {
		"id": 5,
		"photo": null,
		"code": 1,
		"owned_by_us": false,
		"address": "Троицкая улица, 20, деревня Коледино, городской округ Подольск, Московская область",
		"storage_capacity": 5000000,
		"storage_unit": {
			"id": 1,
			"name": "Литр",
			"abbreviation": "л"
		},
		"city": {
			"id": 1,
			"name": "Москва",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"created_at": "2024-04-19T09:18:41.000000Z"
		},
		"counterparty": {
			"id": 54,
			"type": {
				"id": 2,
				"name": "Поставщик",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-03-27T07:00:46.000000Z"
			},
			"manager": {
				"id": 1,
				"first_name": "Артём",
				"last_name": "Полищук",
				"middle_name": "Николаевич",
				"name": "Полищук Артём"
			},
			"avatar": null,
			"name": "ООО \"НЕТФЛИКС\"",
			"registered_at": "2008-10-20",
			"inn": "7743277284",
			"kpp": null,
			"head": "Чуйков Андрей Николаевич",
			"legal_address": "г Москва, ул Адмирала Макарова, д 8 стр 1, помещ V ком 15, 15",
			"phone_1": "71231412412",
			"phone_2": "74416763277",
			"email": "asdaslow@gmail.com",
			"created_at": "2024-06-11T15:00:33.000000Z",
			"updated_at": "2024-06-11T19:33:38.000000Z"
		}
	}
}
```

#### Описание полей ответа

Возвращаемые поля аналогичны [запросу](#получение-выбранного-склада).

---

## Редактирование склада

**Метод:** PUT  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}`  
**Авторизация:** Bearer token

### Параметры запроса

- `photo_id` - ID фотографии склада из [справочника](Файлы.md#добавление-файла)  
- `name` - название склада   
- `code` - уникальный код склада	
- `owned_by_us` - принадлежность склада (свой/чужой)  
- `address` - адрес склада, полученный из [запроса](Вспомогательные запросы.md#поиск-адресов)
- `city_id` - ID города из [справочника](Справочники.md#получение-списка-городов)
- `storage_capacity` - объем склада (целочисленное значение)
- `storage_unit_id` - ID единиц измерения из [справочника](Справочники.md#получение-списка-единиц-измерения)
- `counterparty_id` - ID поставщика из [списка контрагентов](Контрагенты.md#получение-списка-контрагентов). Использовать `counterparty_type_id` с ID = 2 (`Поставщик`)

### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1`
```json
{
	"photo_id": 1,
	"code": 1,
	"name": "Коледино WB",
	"owned_by_us": false,
	"address": "Троицкая улица, 20, деревня Коледино, городской округ Подольск, Московская область",
	"storage_capacity": 5000000,
	"storage_unit_id": 1,
	"city_id": 1,
    "counterparty_id": 54
}
```

### Ответ

При успешном действии возвращается HTTP код `201`.
```json
{
	"warehouse": {
		"id": 5,
		"photo": null,
		"code": 1,
		"owned_by_us": false,
		"address": "Троицкая улица, 20, деревня Коледино, городской округ Подольск, Московская область",
		"storage_capacity": 5000000,
		"storage_unit": {
			"id": 1,
			"name": "Литр",
			"abbreviation": "л"
		},
		"city": {
			"id": 1,
			"name": "Москва",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"created_at": "2024-04-19T09:18:41.000000Z"
		},
		"counterparty": {
			"id": 54,
			"type": {
				"id": 2,
				"name": "Поставщик",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-03-27T07:00:46.000000Z"
			},
			"manager": {
				"id": 1,
				"first_name": "Артём",
				"last_name": "Полищук",
				"middle_name": "Николаевич",
				"name": "Полищук Артём"
			},
			"avatar": null,
			"name": "ООО \"НЕТФЛИКС\"",
			"registered_at": "2008-10-20",
			"inn": "7743277284",
			"kpp": null,
			"head": "Чуйков Андрей Николаевич",
			"legal_address": "г Москва, ул Адмирала Макарова, д 8 стр 1, помещ V ком 15, 15",
			"phone_1": "71231412412",
			"phone_2": "74416763277",
			"email": "asdaslow@gmail.com",
			"created_at": "2024-06-11T15:00:33.000000Z",
			"updated_at": "2024-06-11T19:33:38.000000Z"
		}
	}
}
```

#### Описание полей ответа

Возвращаемые поля аналогичны [запросу](#получение-выбранного-склада).

---

## Удаление склада

**Метод:** DELETE  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}`  
**Авторизация:** Bearer token

### Параметры запроса

Параметры не передаются.

### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1`

### Ответ

При успешном действии возвращается HTTP код `201`.
```json
{
	"message": "Warehouse deleted."
}
```

#### Описание полей ответа

- `message` - информационное поле  

---

## Интеграции

### Получение списка интеграций

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations`


#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"integrations": [
		{
			"id": 1,
			"integration_id": 10,
			"name": "Wildberries",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"is_active": 0
		},
		{
			"id": 2,
			"integration_id": 11,
			"name": "Ozon",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"is_active": 0
		},
		{
			"id": 3,
			"integration_id": 12,
			"name": "Яндекс Маркет",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"is_active": 0
		},
		{
			"id": 4,
			"integration_id": 13,
			"name": "Купер",
			"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
			"is_active": 0
		}
	],
	"integrationsCount": 4
}
```

##### Описание полей ответа

- `id` - первичный ключ
- `integration_id` - ID интеграции из справочника
- `name` - название интеграции
- `avatar` - URL-адрес фотографии
- `is_active` - статус (false - неактивна; true - активна)

---

### Обновление статуса выбранной интеграции

**Метод:** PUT  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

- `is_active` - булевый флаг, означающий текущий статус интеграции

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations/1`
```json
{
	"is_active": 1
}
```

#### Ответ

При успешном действии возвращается HTTP код `200`.

```json
{
	"integration": {
		"id": 1,
		"integration_id": 10,
		"name": "Wildberries",
		"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
		"is_active": 1
	}
}
```

##### Описание полей ответа

Возвращаемые поля аналогичны [ответу](Склады.md#получение-списка-интеграций).

---

### Получение списка параметров интеграции

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations/{id}/parameters`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations/1/parameters`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"parameters": [
		{
			"id": 2,
			"key_1": "login",
			"description_1": "Логин\/ID",
			"key_2": "password",
			"description_2": "Пароль",
			"value_1": "dsfsdfdsf",
			"value_2": "sdfdsfsd"
		}
	],
	"parametersCount": 1
}
```

##### Описание полей ответа

- `id` - первичный ключ
- `key_1` - ключ 1
- `description_1` - описание 1
- `key_2` - ключ 2
- `description_2` - описание 2
- `value_1` - значение 1
- `value_2` - значение 2

### Добавление параметров для выбранной интеграции

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations/{id}/parameters`  
**Авторизация:** Bearer token

#### Параметры запроса

- `integration_parameter_id` - ID параметра интеграции из [запроса](Справочники.md#получение-списка-интеграций);
- `value_1` - значение 1;
- `value_2` - значение 2;

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations/1/parameters`
```json
{
	"integration_parameter_id": 10,
	"value_1": "83432434234",
	"value_2": "sdfdsxcvxcvfsd"
}
```

#### Ответ

При успешном действии возвращается HTTP код `201`.
```json
{
	"parameter": {
		"id": 2,
		"key_1": "login",
		"description_1": "Логин\/ID",
		"key_2": "password",
		"description_2": "Пароль",
		"value_1": "dsfsdfdsf",
		"value_2": "sdfdsfsd"
	}
}
```

##### Описание полей ответа

Возвращаемые поля аналогичны [ответу](Склады.md#получение-списка-параметров-интеграции).

### Удаление параметров из выбранной интеграции

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations/{id}/parameters/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations/1/parameters/1`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"message": "Parameter successfully deleted."
}
```

##### Описание полей ответа

- `message` - информационное сообщение

## Получение истории изменений

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/history`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/history`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"histories": [
		{
			"id": 283,
			"icon": "check",
			"color": "primary",
			"title": "Создание",
			"description": "Создание: Полищук Артём",
			"datetime": "15.07.2024 05:46"
		},
		{
			"id": 284,
			"icon": "edit",
			"color": "success",
			"title": "Редактирование",
			"description": "Редактирование: Полищук Артём",
			"datetime": "15.07.2024 07:06"
		}
	],
	"historiesCount": 2
}
```

##### Описание полей ответа

- `id` - первичный ключ
- `icon` - иконка
- `color` - цвет
- `title` - заголовок
- `description` - описание
- `datetime` - дата выполнения действия

---

## Остатки

### Получение списка остатков (табличное представление)

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/tables/warehouses/{id}/nomenclatures`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/nomenclatures`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"columns": [
		{
			"id": 96,
			"table_id": 13,
			"order": 0,
			"key": "code",
			"has_icon": 0,
			"text": "Код"
		},
		{
			"id": 97,
			"table_id": 13,
			"order": 1,
			"key": "name",
			"has_icon": 1,
			"text": "Наименование"
		},
		{
			"id": 98,
			"table_id": 13,
			"order": 2,
			"key": "warehouse",
			"has_icon": 0,
			"text": "Склад"
		},
		{
			"id": 99,
			"table_id": 13,
			"order": 3,
			"key": "city",
			"has_icon": 0,
			"text": "Город"
		},
		{
			"id": 100,
			"table_id": 13,
			"order": 4,
			"key": "brand",
			"has_icon": 0,
			"text": "Торговая марка"
		},
		{
			"id": 101,
			"table_id": 13,
			"order": 5,
			"key": "vat",
			"has_icon": 0,
			"text": "Ставка НДС"
		},
		{
			"id": 102,
			"table_id": 13,
			"order": 6,
			"key": "unit",
			"has_icon": 0,
			"text": "Ед. изм."
		},
		{
			"id": 103,
			"table_id": 13,
			"order": 7,
			"key": "quantity",
			"has_icon": 0,
			"text": "Кол-во"
		},
		{
			"id": 104,
			"table_id": 13,
			"order": 8,
			"key": "price",
			"has_icon": 0,
			"text": "Цена"
		},
		{
			"id": 105,
			"table_id": 13,
			"order": 9,
			"key": "country",
			"has_icon": 0,
			"text": "Страна"
		}
	],
	"warehouseNomenclatures": [
		{
			"id": 1,
			"code": "123",
			"name": {
				"icon": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"value": "BANILA CO Glow Fit Foundation Brush"
			},
			"warehouse": {
				"icon": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"value": "Петухова"
			},
			"city": "Новосибирск",
			"brand": {
				"icon": "http:\/\/localhost:8000\/\/storage\/uploads\/default_brand.png",
				"value": "BANILA CO"
			},
			"vat": "20.00",
			"unit": "ед",
			"quantity": 5,
			"price": "204500.00",
			"country": "Россия"
		}
	],
	"pagination": {
		"total": 58,
		"per_page": 1,
		"current_page": 1,
		"last_page": 58,
		"from": 1,
		"to": 1
	}
}
```

##### Описание полей ответа

- `columns` - массив столбцов
- `pagination` - объект с информацией, необходимой для пагинации
- `warehouseNomenclatures` - массив объектов типа "Остатки". Для получения информации о столбцах [см. запрос]()
- `name` - название интеграции
- `avatar` - URL-адрес фотографии
- `is_active` - статус (false - неактивна; true - активна)

---

### Добавление остатков

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/nomenclatures`  
**Авторизация:** Bearer token

#### Параметры запроса

- `code` - код товара в системе
- `nomenclature_id` - ID номенклатурной позиции. Для поиска по номенклатуре используйте [запрос](Номенклатура.md#получение-списка-номенклатуры) с параметром query
- `vat` - НДС (целочисленное значение)
- `quantity` - кол-во товара (целочисленное значение)
- `price` - стоимость товара (числовой с точностью до двух знаков после запятой)
- `discount` - скидка (целочисленное значение)
- `markup` - наценка (целочисленное значение)

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1/nomenclatures`
```json
{
	"code": 1127,
	"nomenclature_id": 2,
	"vat": 20,
	"quantity": 10,
	"price": 100,
	"discount": 50,
	"markup": 10
}
```

#### Ответ

При успешном действии возвращается HTTP код `201`.

```json
{
	"warehouseNomenclature": {
		"id": 61,
		"code": 1127,
		"warehouse": {
			"id": 1,
			"photo": null,
			"owned_by_us": true,
			"address": "Петухова 155\/1 к4",
			"storage_capacity": 100000,
			"storage_unit": {
				"id": 2,
				"name": "Кубический метр",
				"abbreviation": "м³"
			},
			"city": {
				"id": 2,
				"name": "Новосибирск",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-04-19T09:18:41.000000Z"
			},
			"counterparty": null
		},
		"nomenclature": {
			"id": 2,
			"code": "72926",
			"name": "Tony Moly Soft Touch Air Puff 5P",
			"avatar": null,
			"preview": null,
			"description": "Tony Moly Soft Touch Air Puff 5P - это набор из пяти нежных помпонов для нанесения макияжа. Эти помпоны изготовлены из высококачественных материалов и обеспечивают идеальное нанесение косметики на кожу. ",
			"category": {
				"id": 14,
				"code": "123123",
				"name": "Тестовая 1",
				"description": "<p>Тестовое <strong>описание<\/strong><\/p>",
				"parent": null,
				"photo": {
					"id": 199,
					"name": "1687828420_sneg-top-p-avatarka-elektronika-pinterest-4.jpg",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/AIOmZpG52qm4FmDt0SWpUKXqtwsmjfZkkYVrvyXQ.jpg",
					"created_at": "2024-07-09T09:59:39.000000Z",
					"updated_at": "2024-07-09T09:59:39.000000Z"
				},
				"avatar": {
					"id": 197,
					"name": "1687828420_sneg-top-p-avatarka-elektronika-pinterest-4.jpg",
					"type": {
						"id": 2,
						"name": "Аватар",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/Cphy2sN5FyeqU7akn03Nwq1nx48hrSKDlSVBi8jf.jpg",
					"created_at": "2024-07-09T09:59:22.000000Z",
					"updated_at": "2024-07-09T09:59:22.000000Z"
				},
				"tags": [
					{
						"id": 4,
						"name": "Хит лета",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-04-10T07:03:08.000000Z"
					}
				]
			},
			"specification": null,
			"type": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"kind": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"branch": {
				"id": 1,
				"code": "12334",
				"avatar": {
					"id": 40,
					"name": "organic-cosmetics_icon-icons.com_49218.png",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/organic-cosmetics_icon-icons.com_49218.png",
					"created_at": "2024-06-17T16:05:02.000000Z",
					"updated_at": "2024-06-17T16:05:02.000000Z"
				},
				"title": "Продажа косметики1123",
				"inn": "5403057658",
				"name": "ОБЩЕСТВО С ОГРАНИЧЕННОЙ ОТВЕТСТВЕННОСТЬЮ \"АЙТЕКО\"",
				"responsible_user": {
					"id": 2,
					"first_name": "Алексей",
					"last_name": "Жуков",
					"middle_name": "Игоревич",
					"name": "Жуков Алексей"
				},
				"kpp": "540301001",
				"phone_1": "79139121349",
				"phone_2": "71231231231",
				"email": "2141349@mail.ru",
				"head": "Снегирёв Алексей Игоревич",
				"address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"legal_address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"created_at": "2024-03-27T07:26:29.000000Z"
			},
			"tags": [],
			"photos": [
				{
					"id": 14,
					"name": "full_covericious_glow_fit_foundation_spf25_pa__23_peanut.jpg",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/full_covericious_glow_fit_foundation_spf25_pa__23_peanut.jpg",
					"created_at": "2024-04-14T20:04:32.000000Z",
					"updated_at": "2024-04-14T20:04:32.000000Z"
				}
			],
			"created_at": "2024-04-10T07:03:08.000000Z",
			"updated_at": "2024-04-10T07:03:08.000000Z"
		},
		"quantity": 10,
		"price": 100,
		"discount": 50,
		"vat": 20,
		"created_at": "2024-07-15T10:38:02.000000Z",
		"updated_at": "2024-07-15T10:38:02.000000Z"
	}
}
```

##### Описание полей ответа

- `id` - первичный ключ
- `code` - внутренний код товара
- `warehouse` - объект с информацией о складе
- `nomenclature` - объект с информацией о номенклатурной позиции
- `quantity` - кол-во товара
- `price` - стоимость товара
- `discount` - скидка
- `markup` - наценка
- `created_at` - дата/время добавления в систему
- `updated_at` - дата/время последнего добавления в системе

---

### Обновление остатков

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/nomenclatures/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

- `code` - код товара в системе
- `nomenclature_id` - ID номенклатурной позиции. Для поиска по номенклатуре используйте [запрос](Номенклатура.md#получение-выбранной-номенклатурной-позиции) с параметром query
- `vat` - НДС (целочисленное значение)
- `quantity` - кол-во товара (целочисленное значение)
- `price` - стоимость товара (числовой с точностью до двух знаков после запятой)
- `discount` - скидка (целочисленное значение)
- `markup` - наценка (целочисленное значение)

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1/nomenclatures/1`
```json
{
	"code": 1127,
	"nomenclature_id": 2,
	"vat": 20,
	"quantity": 10,
	"price": 100,
	"discount": 50,
	"markup": 10
}
```

#### Ответ

При успешном действии возвращается HTTP код `200`.

```json
{
	"warehouseNomenclature": {
		"id": 61,
		"code": 1127,
		"warehouse": {
			"id": 1,
			"photo": null,
			"owned_by_us": true,
			"address": "Петухова 155\/1 к4",
			"storage_capacity": 100000,
			"storage_unit": {
				"id": 2,
				"name": "Кубический метр",
				"abbreviation": "м³"
			},
			"city": {
				"id": 2,
				"name": "Новосибирск",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-04-19T09:18:41.000000Z"
			},
			"counterparty": null
		},
		"nomenclature": {
			"id": 2,
			"code": "72926",
			"name": "Tony Moly Soft Touch Air Puff 5P",
			"avatar": null,
			"preview": null,
			"description": "Tony Moly Soft Touch Air Puff 5P - это набор из пяти нежных помпонов для нанесения макияжа. Эти помпоны изготовлены из высококачественных материалов и обеспечивают идеальное нанесение косметики на кожу. ",
			"category": {
				"id": 14,
				"code": "123123",
				"name": "Тестовая 1",
				"description": "<p>Тестовое <strong>описание<\/strong><\/p>",
				"parent": null,
				"photo": {
					"id": 199,
					"name": "1687828420_sneg-top-p-avatarka-elektronika-pinterest-4.jpg",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/AIOmZpG52qm4FmDt0SWpUKXqtwsmjfZkkYVrvyXQ.jpg",
					"created_at": "2024-07-09T09:59:39.000000Z",
					"updated_at": "2024-07-09T09:59:39.000000Z"
				},
				"avatar": {
					"id": 197,
					"name": "1687828420_sneg-top-p-avatarka-elektronika-pinterest-4.jpg",
					"type": {
						"id": 2,
						"name": "Аватар",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/Cphy2sN5FyeqU7akn03Nwq1nx48hrSKDlSVBi8jf.jpg",
					"created_at": "2024-07-09T09:59:22.000000Z",
					"updated_at": "2024-07-09T09:59:22.000000Z"
				},
				"tags": [
					{
						"id": 4,
						"name": "Хит лета",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-04-10T07:03:08.000000Z"
					}
				]
			},
			"specification": null,
			"type": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"kind": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"branch": {
				"id": 1,
				"code": "12334",
				"avatar": {
					"id": 40,
					"name": "organic-cosmetics_icon-icons.com_49218.png",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/organic-cosmetics_icon-icons.com_49218.png",
					"created_at": "2024-06-17T16:05:02.000000Z",
					"updated_at": "2024-06-17T16:05:02.000000Z"
				},
				"title": "Продажа косметики1123",
				"inn": "5403057658",
				"name": "ОБЩЕСТВО С ОГРАНИЧЕННОЙ ОТВЕТСТВЕННОСТЬЮ \"АЙТЕКО\"",
				"responsible_user": {
					"id": 2,
					"first_name": "Алексей",
					"last_name": "Жуков",
					"middle_name": "Игоревич",
					"name": "Жуков Алексей"
				},
				"kpp": "540301001",
				"phone_1": "79139121349",
				"phone_2": "71231231231",
				"email": "2141349@mail.ru",
				"head": "Снегирёв Алексей Игоревич",
				"address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"legal_address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"created_at": "2024-03-27T07:26:29.000000Z"
			},
			"tags": [],
			"photos": [
				{
					"id": 14,
					"name": "full_covericious_glow_fit_foundation_spf25_pa__23_peanut.jpg",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/full_covericious_glow_fit_foundation_spf25_pa__23_peanut.jpg",
					"created_at": "2024-04-14T20:04:32.000000Z",
					"updated_at": "2024-04-14T20:04:32.000000Z"
				}
			],
			"created_at": "2024-04-10T07:03:08.000000Z",
			"updated_at": "2024-04-10T07:03:08.000000Z"
		},
		"quantity": 10,
		"price": 100,
		"discount": 50,
		"vat": 20,
		"created_at": "2024-07-15T10:38:02.000000Z",
		"updated_at": "2024-07-15T10:38:02.000000Z"
	}
}
```

##### Описание полей ответа

Возвращаемые поля аналогичны [запросу](#добавление-остатков).

---

### Получение выбранных остатков

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/nomenclatures/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/1/nomenclatures/1`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"warehouseNomenclature": {
		"id": 1,
		"code": "123",
		"warehouse": {
			"id": 1,
			"photo": null,
			"owned_by_us": true,
			"address": "Петухова 155\/1 к4",
			"storage_capacity": 100000,
			"storage_unit": {
				"id": 2,
				"name": "Кубический метр",
				"abbreviation": "м³"
			},
			"city": {
				"id": 2,
				"name": "Новосибирск",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-04-19T09:18:41.000000Z"
			},
			"counterparty": null
		},
		"nomenclature": {
			"id": 1,
			"code": "72925",
			"name": "BANILA CO Glow Fit Foundation Brush",
			"avatar": null,
			"preview": null,
			"description": "<!DOCTYPE HTML>\n<html lang=\"en\">\n  <head>\n  <meta charset=\"utf-8\">\n  <meta name=\"description\" content=\"A page for exploring basic HTML documents\">\n  <title>Basic HTML document<\/title>\n  <\/head>\n  <body>\n    <h1>Page content<\/h1>\n    <p>The main page content appears inside the <b>body<\/b> tag. HTML contains several elements that allow you to properly structure and format your content, which we'll cover later.<\/p>\n  <\/body>\n<\/html>",
			"category": {
				"id": 29,
				"code": "423234234",
				"name": "Новая категория2",
				"description": "<p>Новая категория<\/p>",
				"parent": null,
				"photo": {
					"id": 201,
					"name": "maxresdefault.jpg",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/BQkFOnPzUO962QOKLrwwC6cgRgPbcyb72zJkU84N.jpg",
					"created_at": "2024-07-09T10:02:41.000000Z",
					"updated_at": "2024-07-09T10:02:41.000000Z"
				},
				"avatar": {
					"id": 200,
					"name": "maxresdefault.jpg",
					"type": {
						"id": 2,
						"name": "Аватар",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/oeIC8oaoC0b75dyCBEESk5vdnCjJZd89lNvkn8ce.jpg",
					"created_at": "2024-07-09T10:01:54.000000Z",
					"updated_at": "2024-07-09T10:01:54.000000Z"
				},
				"tags": [
					{
						"id": 6,
						"name": "Философский камень",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-04-10T07:03:08.000000Z"
					},
					{
						"id": 5,
						"name": "Вечная молодость",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-04-10T07:03:08.000000Z"
					},
					{
						"id": 4,
						"name": "Хит лета",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-04-10T07:03:08.000000Z"
					}
				]
			},
			"specification": null,
			"type": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"kind": {
				"id": 2,
				"name": "Товар",
				"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
				"created_at": "2024-07-08T07:01:41.000000Z"
			},
			"branch": {
				"id": 1,
				"code": "12334",
				"avatar": {
					"id": 40,
					"name": "organic-cosmetics_icon-icons.com_49218.png",
					"type": {
						"id": 1,
						"name": "Трудовой договор",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/organic-cosmetics_icon-icons.com_49218.png",
					"created_at": "2024-06-17T16:05:02.000000Z",
					"updated_at": "2024-06-17T16:05:02.000000Z"
				},
				"title": "Продажа косметики1123",
				"inn": "5403057658",
				"name": "ОБЩЕСТВО С ОГРАНИЧЕННОЙ ОТВЕТСТВЕННОСТЬЮ \"АЙТЕКО\"",
				"responsible_user": {
					"id": 2,
					"first_name": "Алексей",
					"last_name": "Жуков",
					"middle_name": "Игоревич",
					"name": "Жуков Алексей"
				},
				"kpp": "540301001",
				"phone_1": "79139121349",
				"phone_2": "71231231231",
				"email": "2141349@mail.ru",
				"head": "Снегирёв Алексей Игоревич",
				"address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"legal_address": "630073, Новосибирская область, город Новосибирск, Новогодняя ул., д. 20\/1, кв. 26",
				"created_at": "2024-03-27T07:26:29.000000Z"
			},
			"tags": [],
			"photos": [
				{
					"id": 18,
					"name": "image_2024-05-21_14-24-32.png",
					"type": {
						"id": 3,
						"name": "Документ к заказу",
						"avatar": "http:\/\/localhost:8000\/storage\/uploads\/default.svg",
						"created_at": "2024-03-27T07:00:46.000000Z"
					},
					"path": "http:\/\/localhost:8000\/storage\/uploads\/image_2024-05-21_14-24-32.png",
					"created_at": "2024-04-14T20:04:32.000000Z",
					"updated_at": "2024-04-14T20:04:32.000000Z"
				}
			],
			"created_at": "2024-04-10T07:03:08.000000Z",
			"updated_at": "2024-04-10T07:03:08.000000Z"
		},
		"quantity": 5,
		"price": "204500.00",
		"discount": 0,
		"vat": "20.00",
		"created_at": "2024-04-10T07:03:08.000000Z",
		"updated_at": "2024-04-10T07:03:08.000000Z"
	}
}
```

##### Описание полей ответа

Возвращаемые поля аналогичны [ответу](Склады.md#получение-списка-параметров-интеграции).

---

### Добавление параметров для выбранной интеграции

**Метод:** POST  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/integrations/{id}/parameters`  
**Авторизация:** Bearer token

#### Параметры запроса

- `integration_parameter_id` - ID параметра интеграции из [запроса](Справочники.md#получение-списка-интеграций);
- `value_1` - значение 1;
- `value_2` - значение 2;

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/integrations/1/parameters`
```json
{
	"integration_parameter_id": 10,
	"value_1": "83432434234",
	"value_2": "sdfdsxcvxcvfsd"
}
```

#### Ответ

При успешном действии возвращается HTTP код `201`.
```json
{
	"parameter": {
		"id": 2,
		"key_1": "login",
		"description_1": "Логин\/ID",
		"key_2": "password",
		"description_2": "Пароль",
		"value_1": "dsfsdfdsf",
		"value_2": "sdfdsfsd"
	}
}
```

##### Описание полей ответа

Возвращаемые поля аналогичны [ответу](Склады.md#получение-списка-параметров-интеграции).

### Удаление остатков

**Метод:** DELETE  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/nomenclatures/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/nomenclatures/1`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"message": "Warehouse nomenclature deleted successfully."
}
```

##### Описание полей ответа

- `message` - информационное сообщение

### Получение истории изменений

**Метод:** GET  
**URL:** `https://beta.back.erp.itecho.ru/api/warehouses/{id}/nomenclatures/{id}`  
**Авторизация:** Bearer token

#### Параметры запроса

Параметры не передаются.

#### Пример запроса  

`https://beta.back.erp.itecho.ru/api/warehouses/7/nomenclatures/1`

#### Ответ

При успешном действии возвращается HTTP код `200`.
```json
{
	"histories": [
		{
			"id": 285,
			"icon": "check",
			"color": "primary",
			"title": "Создание",
			"description": "Создание: Полищук Артём",
			"datetime": "15.07.2024 12:54"
		}
	],
	"historiesCount": 1
}
```

##### Описание полей ответа

- `id` - первичный ключ
- `icon` - иконка
- `color` - цвет
- `title` - заголовок
- `description` - описание
- `datetime` - дата выполнения действия